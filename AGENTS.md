# Repository Guidelines

## Project Structure & Module Organization
- `src/` contains the MCP server source (entrypoint `src/index.ts`, config/client helpers, and tool registration).
- `src/schemas/` holds generated Zod validators (`zod.ts`) produced from JSON schemas.
- `schemas/` contains JSON Schema inputs (`tools.json` and optional `tool-responses.json`) used for tool validation and client generation.
- `scripts/` includes build utilities such as schema generation (`generate-schemas.mjs`).
- `dist/` is the TypeScript build output (generated by `npm run build`; do not edit manually).
- `public/` stores static assets (e.g., logo).

## Build, Test, and Development Commands
- `npm run dev` — runs the MCP server locally via `tsx src/index.ts` for development.
- `npm run build` — compiles TypeScript to `dist/` using `tsc`.
- `npm run generate-schemas` — regenerates `src/schemas/zod.ts` from `schemas/tools.json` (and `schemas/tool-responses.json` if present).
- `node dist/index.js` — runs the compiled server (useful for smoke checks).

## Coding Style & Naming Conventions
- TypeScript ESM: use `.js` extensions in relative imports (e.g., `./config.js`).
- 2‑space indentation, `const` by default, and `async/await` for async flows.
- File names are lowercase; `PascalCase` for classes and `camelCase` for functions/variables.
- Generated file: `src/schemas/zod.ts` should only be updated via `npm run generate-schemas`.

## Testing Guidelines
- No automated test runner is configured yet. If you add tests, include a script in `package.json` and use a clear naming convention like `*.test.ts`.
- Keep any new test fixtures or mocks out of `dist/` and `schemas/`.

## Commit & Pull Request Guidelines
- Follow Conventional Commits as seen in history: `feat:`, `fix:`, `chore:`, `docs:`, `refactor:` (optional scope).
- PRs should include a brief summary, note any schema changes, and mention commands run (e.g., `npm run generate-schemas`, `npm run build`).
- If you modify tool schemas, include the updated generated `src/schemas/zod.ts` in the same PR.

## Security & Configuration Tips
- Configure credentials via env vars (`ONEMONEY_ACCESS_KEY`, `ONEMONEY_SECRET_KEY`, `ONEMONEY_SANDBOX`, `ONEMONEY_BASE_URL`) or `~/.onemoney/credentials`.
- Never commit secrets; use local env files or CI secrets instead.
